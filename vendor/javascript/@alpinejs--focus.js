/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"];var t=e.join(",");var r="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;var n=function getCandidates2(e,n,a){var i=Array.prototype.slice.apply(e.querySelectorAll(t));n&&r.call(e,t)&&i.unshift(e);i=i.filter(a);return i};var a=function isContentEditable2(e){return"true"===e.contentEditable};var i=function getTabindex2(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?a(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t};var o=function sortOrderedTabbables2(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex};var u=function isInput2(e){return"INPUT"===e.tagName};var s=function isHiddenInput2(e){return u(e)&&"hidden"===e.type};var c=function isDetailsWithSummary2(e){var t="DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}));return t};var l=function getCheckedRadio2(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]};var d=function isTabbableRadio2(e){if(!e.name)return true;var t=e.form||e.ownerDocument;var r=function queryRadios2(e){return t.querySelectorAll('input[type="radio"][name="'+e+'"]')};var n;if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(e){console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message);return false}var a=l(n,e.form);return!a||a===e};var f=function isRadio2(e){return u(e)&&"radio"===e.type};var v=function isNonTabbableRadio2(e){return f(e)&&!d(e)};var p=function isHidden2(e,t){if("hidden"===getComputedStyle(e).visibility)return true;var n=r.call(e,"details>summary:first-of-type");var a=n?e.parentElement:e;if(r.call(a,"details:not([open]) *"))return true;if(t&&"full"!==t){if("non-zero-area"===t){var i=e.getBoundingClientRect(),o=i.width,u=i.height;return 0===o&&0===u}}else while(e){if("none"===getComputedStyle(e).display)return true;e=e.parentElement}return false};var b=function isDisabledFromFieldset2(e){if(u(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName){var t=e.parentElement;while(t){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!n.contains(e)}return true}t=t.parentElement}}return false};var h=function isNodeMatchingSelectorFocusable2(e,t){return!(t.disabled||s(t)||p(t,e.displayCheck)||c(t)||b(t))};var m=function isNodeMatchingSelectorTabbable2(e,t){return!(!h(e,t)||v(t)||i(t)<0)};var y=function tabbable2(e,t){t=t||{};var r=[];var a=[];var u=n(e,t.includeContainer,m.bind(null,t));u.forEach((function(e,t){var n=i(e);0===n?r.push(e):a.push({documentOrder:t,tabIndex:n,node:e})}));var s=a.sort(o).map((function(e){return e.node})).concat(r);return s};var g=function focusable2(e,t){t=t||{};var r=n(e,t.includeContainer,h.bind(null,t));return r};var w=e.concat("iframe").join(",");var E=function isFocusable2(e,t){t=t||{};if(!e)throw new Error("No node provided");return false!==r.call(e,w)&&h(t,e)};
/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),true).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var F=function(){var e=[];return{activateTrap:function activateTrap(t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var n=e.indexOf(t);if(-1===n)e.push(t);else{e.splice(n,1);e.push(t)}},deactivateTrap:function deactivateTrap(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1);e.length>0&&e[e.length-1].unpause()}}}();var N=function isSelectableInput2(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select};var S=function isEscapeEvent2(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode};var O=function isTabEvent2(e){return"Tab"===e.key||9===e.keyCode};var T=function delay2(e){return setTimeout(e,0)};var k=function findIndex2(e,t){var r=-1;e.every((function(e,n){if(t(e)){r=n;return false}return true}));return r};var A=function valueOrHandler2(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"===typeof e?e.apply(void 0,r):e};var D=function createFocusTrap2(e,t){var r=document;var n=_objectSpread2({returnFocusOnDeactivate:true,escapeDeactivates:true,delayInitialFocus:true},t);var a={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:false,paused:false,delayInitialFocusTimer:void 0};var i;var o=function getOption2(e,t,r){return e&&void 0!==e[t]?e[t]:n[r||t]};var u=function containersContain2(e){return a.containers.some((function(t){return t.contains(e)}))};var s=function getNodeForOption2(e){var t=n[e];if(!t)return null;var a=t;if("string"===typeof t){a=r.querySelector(t);if(!a)throw new Error("`".concat(e,"` refers to no known node"))}if("function"===typeof t){a=t();if(!a)throw new Error("`".concat(e,"` did not return a node"))}return a};var c=function getInitialFocusNode2(){var e;if(false===o({},"initialFocus"))return false;if(null!==s("initialFocus"))e=s("initialFocus");else if(u(r.activeElement))e=r.activeElement;else{var t=a.tabbableGroups[0];var n=t&&t.firstTabbableNode;e=n||s("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e};var l=function updateTabbableNodes2(){a.tabbableGroups=a.containers.map((function(e){var t=y(e);if(t.length>0)return{container:e,firstTabbableNode:t[0],lastTabbableNode:t[t.length-1]}})).filter((function(e){return!!e}));if(a.tabbableGroups.length<=0&&!s("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")};var d=function tryFocus2(e){if(false!==e&&e!==r.activeElement)if(e&&e.focus){e.focus({preventScroll:!!n.preventScroll});a.mostRecentlyFocusedNode=e;N(e)&&e.select()}else tryFocus2(c())};var f=function getReturnFocusNode2(e){var t=s("setReturnFocus");return t||e};var v=function checkPointerDown2(e){u(e.target)||(A(n.clickOutsideDeactivates,e)?i.deactivate({returnFocus:n.returnFocusOnDeactivate&&!E(e.target)}):A(n.allowOutsideClick,e)||e.preventDefault())};var p=function checkFocusIn2(e){var t=u(e.target);if(t||e.target instanceof Document)t&&(a.mostRecentlyFocusedNode=e.target);else{e.stopImmediatePropagation();d(a.mostRecentlyFocusedNode||c())}};var b=function checkTab2(e){l();var t=null;if(a.tabbableGroups.length>0){var r=k(a.tabbableGroups,(function(t){var r=t.container;return r.contains(e.target)}));if(r<0)t=e.shiftKey?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var n=k(a.tabbableGroups,(function(t){var r=t.firstTabbableNode;return e.target===r}));n<0&&a.tabbableGroups[r].container===e.target&&(n=r);if(n>=0){var i=0===n?a.tabbableGroups.length-1:n-1;var o=a.tabbableGroups[i];t=o.lastTabbableNode}}else{var u=k(a.tabbableGroups,(function(t){var r=t.lastTabbableNode;return e.target===r}));u<0&&a.tabbableGroups[r].container===e.target&&(u=r);if(u>=0){var c=u===a.tabbableGroups.length-1?0:u+1;var f=a.tabbableGroups[c];t=f.firstTabbableNode}}}else t=s("fallbackFocus");if(t){e.preventDefault();d(t)}};var h=function checkKey2(e){if(S(e)&&false!==A(n.escapeDeactivates)){e.preventDefault();i.deactivate()}else O(e)&&b(e)};var m=function checkClick2(e){if(!A(n.clickOutsideDeactivates,e)&&!u(e.target)&&!A(n.allowOutsideClick,e)){e.preventDefault();e.stopImmediatePropagation()}};var g=function addListeners2(){if(a.active){F.activateTrap(i);a.delayInitialFocusTimer=n.delayInitialFocus?T((function(){d(c())})):d(c());r.addEventListener("focusin",p,true);r.addEventListener("mousedown",v,{capture:true,passive:false});r.addEventListener("touchstart",v,{capture:true,passive:false});r.addEventListener("click",m,{capture:true,passive:false});r.addEventListener("keydown",h,{capture:true,passive:false});return i}};var w=function removeListeners2(){if(a.active){r.removeEventListener("focusin",p,true);r.removeEventListener("mousedown",v,true);r.removeEventListener("touchstart",v,true);r.removeEventListener("click",m,true);r.removeEventListener("keydown",h,true);return i}};i={activate:function activate(e){if(a.active)return this;var t=o(e,"onActivate");var n=o(e,"onPostActivate");var i=o(e,"checkCanFocusTrap");i||l();a.active=true;a.paused=false;a.nodeFocusedBeforeActivation=r.activeElement;t&&t();var u=function finishActivation2(){i&&l();g();n&&n()};if(i){i(a.containers.concat()).then(u,u);return this}u();return this},deactivate:function deactivate(e){if(!a.active)return this;clearTimeout(a.delayInitialFocusTimer);a.delayInitialFocusTimer=void 0;w();a.active=false;a.paused=false;F.deactivateTrap(i);var t=o(e,"onDeactivate");var r=o(e,"onPostDeactivate");var n=o(e,"checkCanReturnFocus");t&&t();var u=o(e,"returnFocus","returnFocusOnDeactivate");var s=function finishDeactivation2(){T((function(){u&&d(f(a.nodeFocusedBeforeActivation));r&&r()}))};if(u&&n){n(f(a.nodeFocusedBeforeActivation)).then(s,s);return this}s();return this},pause:function pause(){if(a.paused||!a.active)return this;a.paused=true;w();return this},unpause:function unpause(){if(!a.paused||!a.active)return this;a.paused=false;l();g();return this},updateContainerElements:function updateContainerElements(e){var t=[].concat(e).filter(Boolean);a.containers=t.map((function(e){return"string"===typeof e?r.querySelector(e):e}));a.active&&l();return this}};i.updateContainerElements(e);return i};function src_default(e){let t;let r;window.addEventListener("focusin",(()=>{t=r;r=document.activeElement}));e.magic("focus",(e=>{let n=e;return{__noscroll:false,__wrapAround:false,within(e){n=e;return this},withoutScrolling(){this.__noscroll=true;return this},noscroll(){this.__noscroll=true;return this},withWrapAround(){this.__wrapAround=true;return this},wrap(){return this.withWrapAround()},focusable(e){return E(e)},previouslyFocused(){return t},lastFocused(){return t},focused(){return r},focusables(){return Array.isArray(n)?n:g(n,{displayCheck:"none"})},all(){return this.focusables()},isFirst(e){let t=this.all();return t[0]&&t[0].isSameNode(e)},isLast(e){let t=this.all();return t.length&&t.slice(-1)[0].isSameNode(e)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let e=this.all();let t=document.activeElement;if(-1!==e.indexOf(t))return this.__wrapAround&&e.indexOf(t)===e.length-1?e[0]:e[e.indexOf(t)+1]},getPrevious(){let e=this.all();let t=document.activeElement;if(-1!==e.indexOf(t))return this.__wrapAround&&0===e.indexOf(t)?e.slice(-1)[0]:e[e.indexOf(t)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(e){e&&setTimeout((()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0");e.focus({preventScroll:this._noscroll})}))}}}));e.directive("trap",e.skipDuringClone(((e,{expression:t,modifiers:r},{effect:n,evaluateLater:a,cleanup:i})=>{let o=a(t);let u=false;let s={escapeDeactivates:false,allowOutsideClick:true,fallbackFocus:()=>e};let c=e.querySelector("[autofocus]");c&&(s.initialFocus=c);let l=D(e,s);let undoInert=()=>{};let undoDisableScrolling=()=>{};const releaseFocus=()=>{undoInert();undoInert=()=>{};undoDisableScrolling();undoDisableScrolling=()=>{};l.deactivate({returnFocus:!r.includes("noreturn")})};n((()=>o((t=>{if(u!==t){t&&!u&&setTimeout((()=>{r.includes("inert")&&(undoInert=setInert(e));r.includes("noscroll")&&(undoDisableScrolling=disableScrolling());l.activate()}));!t&&u&&releaseFocus();u=!!t}}))));i(releaseFocus)}),((e,{expression:t,modifiers:r},{evaluate:n})=>{r.includes("inert")&&n(t)&&setInert(e)})))}function setInert(e){let t=[];crawlSiblingsUp(e,(e=>{let r=e.hasAttribute("aria-hidden");e.setAttribute("aria-hidden","true");t.push((()=>r||e.removeAttribute("aria-hidden")))}));return()=>{while(t.length)t.pop()()}}function crawlSiblingsUp(e,t){!e.isSameNode(document.body)&&e.parentNode&&Array.from(e.parentNode.children).forEach((r=>{r.isSameNode(e)?crawlSiblingsUp(e.parentNode,t):t(r)}))}function disableScrolling(){let e=document.documentElement.style.overflow;let t=document.documentElement.style.paddingRight;let r=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden";document.documentElement.style.paddingRight=`${r}px`;return()=>{document.documentElement.style.overflow=e;document.documentElement.style.paddingRight=t}}var C=src_default;export{C as default};

