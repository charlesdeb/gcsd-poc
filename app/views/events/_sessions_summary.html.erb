<%# Sessions summary component for an event %>
<%# event:: expected to be an Event %>
<section id="event-sessions-summary" class="space-y-2" x-data="sessionsSummaryTab" x-init="setup('session_type_<%= event.session_types_with_counts.first.id %>')">
  <h2 class="mt-8 text-2xl font-bold leading-8 tracking-tight text-orange space-y-2 sm:text-3xl">
    <%= t('.sessions_summary') %>
  </h2>
  <div class="">
    <div class="sm:hidden">
      <label for="tabs" class="sr-only"><%= t('.select_session_type') %>Select a tab</label>
      <%= 
    select_tag(
      t('.session_type'),
      session_type_options(event.session_types_with_counts).join('').html_safe,
      class: 'block w-full border-orange-300 focus:border-orange-800 focus:ring-orange-800',
      'x-on:change': 'chooseSessionType($event.target.value)'
    )
    %>
    </div>
    <%# tab controls for session types %>
    <nav class="hidden sm:flex isolate  divide-x divide-orange-300 rounded-lg shadow bg-orange-100" aria-label="Tabs">
      <!-- Current: "text-orange-900", Default: "text-orange-500 hover:text-orange-700" -->
      <% event.session_types_with_counts.each_with_index do |session_type_with_count, index| %>
        <%= session_type_tab session_type_with_count, index %>
      <% end%>
    </nav>
    <section id="session-summaries">
      <% event.session_types_with_counts.each do |session_type | %>
        <%= render partial: 'session_types/timetable_session_type_summaries', locals: {session_type_id: session_type.id, event: event}  %>
      <% end%>
    </section>
  </div>
</section>
